"use strict";(self["webpackChunkCloudRenderManager"]=self["webpackChunkCloudRenderManager"]||[]).push([[565],{9302:function(e,t,l){l.d(t,{Z:function(){return r}});var a=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{visible:e.isConfirm,"before-close":e.handleClose,"close-on-click-modal":!1,width:"400px","show-close":!1},on:{"update:visible":function(t){e.isConfirm=t}}},[t("div",{staticClass:"el-dialog-content"},[t("div",{staticClass:"dialog-header"},[t("span"),t("svg-icon",{attrs:{"icon-class":"close"},on:{click:e.handleClose}})],1),t("div",{staticClass:"content"},[e._v("此操作将删除该条记录, 是否继续?")]),t("div",{staticClass:"dialog-btn"},[t("div",{on:{click:e.handleClose}},[e._v("取消")]),t("div",{on:{click:e.handle}},[e._v("继续")])])])])],1)},i=[],n={name:"Confirm",props:{isConfirm:{type:Boolean,default:()=>!1}},methods:{handleClose(){this.$emit("close")},handle(){this.$emit("definite")}}},s=n,o=l(1001),c=(0,o.Z)(s,a,i,!1,null,"13d8392f",null),r=c.exports},565:function(e,t,l){l.r(t),l.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"opration"},[t("div",{staticClass:"search-nomal"},[t("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}}),t("div",{staticClass:"search-nomal-btn"},[e._v("搜索")])],1),t("div",{staticClass:"opration-add",on:{click:function(t){return e.$refs.inputFile.click()}}},[t("svg-icon",{attrs:{"icon-class":"add"}}),e._v(" 导入 ")],1),t("input",{ref:"inputFile",staticStyle:{opacity:"0",width:"0px",position:"fixed"},attrs:{name:"file",type:"file",accept:".dtproject"},on:{change:function(t){return e.selectFile(t)}}})]),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.load,expression:"load"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"element-loading-background":"rgba(0, 0, 0, 0.2)",height:e.tableHigh}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"100",align:"center"}}),t("el-table-column",{attrs:{prop:"projectName",label:"项目名称",align:"center"}}),t("el-table-column",{attrs:{prop:"createDate",label:"创建日期",align:"center"}}),t("el-table-column",{attrs:{prop:"projectDes",label:"描述",align:"center"}}),t("el-table-column",{attrs:{label:"操作",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("div",{staticClass:"opra",on:{click:function(t){return e.delHandle(l.row.projectId)}}},[t("svg-icon",{attrs:{"icon-class":"del"}}),e._v("删除 ")],1)]}}])})],1),t("confirm",{attrs:{"is-confirm":e.confirm},on:{close:e.close,definite:e.isConfirm}})],1)},i=[],n=l(9935),s=l(9302),o={components:{Confirm:s.Z},data(){return{searchKey:"",tableHigh:null,tableData:[],confirm:!1,delId:"",load:!1,form:{},formRules:{name:[{required:!0,message:" ",trigger:"blur"}],path:[{required:!0,message:" ",trigger:"blur"}]}}},mounted(){let e=document.querySelector(".el-table");this.tableHigh=e.clientHeight-51,this.getList()},methods:{getList(){n.getAllProject().then((e=>{0==e.code&&(this.tableData=e.data)}))},selectFile(e){this.load=!0;const t=e.target.files[0];if(!t)return;const l=new FormData;l.append("file",t),n.SelectFile(l).then((t=>{t.data.result&&this.getList(),this.load=!1,e.target.value=""})).catch((()=>{this.load=!1}))},delHandle(e){this.delId=e,this.confirm=!0},isConfirm(){n.delProject(this.delId).then((e=>{0==e.code&&(this.$message.success("删除成功"),this.getList(),this.confirm=!1)}))},close(){this.confirm=!1}}},c=o,r=l(1001),d=(0,r.Z)(c,a,i,!1,null,"80e17932",null),u=d.exports}}]);