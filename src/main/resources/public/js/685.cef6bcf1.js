"use strict";(self["webpackChunkCloudRenderManager"]=self["webpackChunkCloudRenderManager"]||[]).push([[685],{7685:function(e,s,t){t.r(s),t.d(s,{default:function(){return d}});var o=function(){var e=this,s=e._self._c;return s("div",{staticClass:"login-pages"},[s("div",{staticClass:"login-content"},[s("div",{staticClass:"welcome"},[e._v("您好，欢迎登录")]),s("svg-icon",{staticClass:"login-img",attrs:{"icon-class":"title"}}),s("div",{staticClass:"login-box",class:{"login-focus":e.isUser}},[s("span",[e._v("账号")]),s("el-input",{attrs:{placeholder:"请输入账号"},on:{focus:function(s){e.isUser=!0},blur:function(s){e.isUser=!1}},model:{value:e.form.username,callback:function(s){e.$set(e.form,"username",s)},expression:"form.username"}})],1),s("div",{staticClass:"login-box",class:{"login-focus":e.isPwd},staticStyle:{"margin-top":"24px"}},[s("div",{class:{letter:!e.open}},[s("span",[e._v("密码")]),s("el-input",{attrs:{type:e.open?"text":"password",placeholder:"请输入密码"},on:{focus:function(s){e.isPwd=!0},blur:function(s){e.isPwd=!1}},model:{value:e.form.password,callback:function(s){e.$set(e.form,"password",s)},expression:"form.password"}})],1)]),s("div",{staticClass:"input-re"},[s("div",{class:["remember",{isChecked:e.checked}],on:{click:function(s){e.checked=!e.checked}}},[s("span"),e._v("记住密码 ")]),s("div",{staticStyle:{"text-decoration":"underline"}},[e._v("帮助文档")])]),s("div",{staticClass:"primary",on:{click:e.login}},[e._v("登录")])],1)])},r=[],a=(t(560),t(2428)),i={data(){return{form:{username:"",password:""},isUser:!1,isPwd:!1,open:!1,checked:!1}},methods:{login(){if(this.form.username.trim())if(this.form.password.trim())try{a.login(this.form).then((e=>{if(console.log(e),0===e.code){const{accessToken:s,refreshToken:t,userInfo:o,expiresIn:r}=e.data;localStorage.setItem("accessToken",s),localStorage.setItem("refreshToken",t),localStorage.setItem("userInfo",JSON.stringify(o)),localStorage.setItem("tokenExpire",Date.now()+r),this.$message.success("登录成功"),this.checked?localStorage.setItem("savedCredentials",JSON.stringify({username:this.form.username,password:this.form.password})):localStorage.removeItem("savedCredentials"),this.$router.push("/Dashboard")}else this.$message.error(e.message||"登录失败")}))}catch(e){console.error("登录错误:",e),this.$message.error(e.message||"登录失败，请稍后重试")}finally{this.loading=!1}else this.$message.error("请输入密码");else this.$message.error("请输入用户名")}}},n=i,l=t(1001),c=(0,l.Z)(n,o,r,!1,null,"d0616be8",null),d=c.exports}}]);