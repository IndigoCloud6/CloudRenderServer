"use strict";(self["webpackChunkCloudRenderManager"]=self["webpackChunkCloudRenderManager"]||[]).push([[847],{847:function(t,r,i){i.r(r),i.d(r,{default:function(){return m}});var s=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.load,expression:"load"}],ref:"formRef",staticClass:"system",attrs:{model:e.form,rules:e.formRules,"hide-required-asterisk":"","label-position":"top","element-loading-background":"rgba(0, 0, 0, 0.4)"}},[t("div",{staticClass:"item-label"},[t("svg-icon",{attrs:{"icon-class":"sum"}}),e._v("启动端口配置")],1),t("el-form-item",{attrs:{label:"信令服务器端口",prop:"signallingserverport"}},[t("div",{staticClass:"input-box"},[t("el-input",{model:{value:e.form.signallingserverport,callback:function(t){e.$set(e.form,"signallingserverport",t)},expression:"form.signallingserverport"}})],1)]),t("el-form-item",{attrs:{label:"转发服务器端口",prop:"coturnserverport"}},[t("div",{staticClass:"input-box"},[t("el-input",{model:{value:e.form.coturnserverport,callback:function(t){e.$set(e.form,"coturnserverport",t)},expression:"form.coturnserverport"}})],1)]),t("div",{staticClass:"item-label",staticStyle:{"margin-top":"40px"}},[t("svg-icon",{attrs:{"icon-class":"sum"}}),e._v("实例配置 ")],1),t("el-form-item",{attrs:{label:"最大实例数限制",prop:"maximuminstancecount"}},[t("div",{staticClass:"input-box"},[t("el-input",{model:{value:e.form.maximuminstancecount,callback:function(t){e.$set(e.form,"maximuminstancecount",t)},expression:"form.maximuminstancecount"}})],1)]),t("el-form-item",{attrs:{label:"项目上传目录",prop:"filesavepath"}},[t("div",{staticClass:"input-box"},[t("el-input",{model:{value:e.form.filesavepath,callback:function(t){e.$set(e.form,"filesavepath",t)},expression:"form.filesavepath"}})],1)]),t("el-form-item",{attrs:{label:"渲染服务端路径",prop:"renderclientpath"}},[t("div",{staticClass:"input-box"},[t("el-input",{model:{value:e.form.renderclientpath,callback:function(t){e.$set(e.form,"renderclientpath",t)},expression:"form.renderclientpath"}})],1)]),t("div",{staticClass:"primary btn",on:{click:function(t){return e.submit("formRef")}}},[e._v("确认")])],1),t("input",{ref:"inputFile",staticClass:"file",staticStyle:{opacity:"0",width:"0px"},attrs:{name:"file",type:"file"},on:{change:function(t){return e.selectFile(t)}}})],1)},a=[],l=i(2428),n={data(){return{load:!1,form:{signallingserverport:"9000",maximuminstancecount:"0",TurnServerPort:"9001",filesavepath:"",renderclientpath:""},formRules:{signallingserverport:[{required:!0,message:" ",trigger:"blur"}],TurnServerPort:[{required:!0,message:" ",trigger:"blur"}],maximuminstancecount:[{required:!0,message:" ",trigger:"blur"}],filesavepath:[{required:!0,message:" ",trigger:"blur"}],renderclientpath:[{required:!0,message:" ",trigger:"blur"}]}}},mounted(){this.getNomal()},methods:{getNomal(){l.getAllConfig().then((e=>{0==e.code&&(this.form=e.data)}))},selectFile(){this.load=!0;const t=e.target.files,r=new FormData;for(const e in t)r.append("file",t[e]);l.SelectFile(r).then((e=>{console.log(e),e.data.result,this.load=!1})).catch((()=>{this.load=!1}))},submit(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;l.updateAllConfig(this.form).then((e=>{0==e.code&&this.$message.success("修改成功")}))}))}}},o=n,u=i(1001),c=(0,u.Z)(o,s,a,!1,null,"234d65aa",null),m=c.exports}}]);